# Basics of Serial Peripheral Interface (SPI)


Serial Peripheral Interface or SPI is a synchronous serial communication protocol that provides full-duplex communication at very high speeds. 
SPI is a master-slave type protocol that offers a simple and low-cost interface between a microcontroller and its peripherals.

### Introduction

The SPI interface bus is commonly used for interfacing microprocessors or microcontrollers with various peripherals like EEPROM, 
RTC (Real-Time Clock), ADC (Analog-to-Digital Converters), DAC (Digital-to-Analog Converters), displays like LCDs, audio ICs, 
sensors like temperature and pressure, memory cards like MMC or SD Cards, or even other microcontrollers.

In previous articles, UART was discussed, which is an asynchronous communication protocol lacking a clock signal. 
SPI, on the other hand, is synchronous, using a dedicated clock signal to synchronize the master and slave devices.

### Basics of Serial Peripheral Interface (SPI)

SPI is ideal for short-distance communication within a device or between devices on the same PCB. 
Unlike asynchronous protocols like UART, SPI uses a clock signal supplied by the master to synchronize data transmission with the slave.

#### Key Features

- **Master – Out / Slave – In (MOSI)**
- **Master – In / Slave – Out (MISO)**
- **Serial Clock (SCLK)**
- **Chip Select (CS) or Slave Select (SS)**

These four signals are used for SPI communication, making it a four-wire interface.

### How SPI Works

Developed by Motorola in the 1980s, SPI became a standard due to its simplicity, flexibility, and ease of use. 
In SPI protocol, devices are connected in a master-slave relationship with one master and multiple slaves.

#### SPI Interface

- **MOSI**: Data from master to slave.
- **MISO**: Data from slave to master.
- **SCLK**: Clock signal generated by the master.
- **CS/SS**: Used by the master to select a slave.

Data transfer is full-duplex, with simultaneous transmission from master to slave and vice versa for each clock cycle.

### SPI Modes of Operation

SPI uses Clock Polarity (CPOL) and Clock Phase (CPHA) to determine synchronization protocols, resulting in four modes of operation:

- **Mode 0**: CPOL = 0, CPHA = 0 (Data on rising edge)
- **Mode 1**: CPOL = 0, CPHA = 1 (Data on falling edge)
- **Mode 2**: CPOL = 1, CPHA = 0 (Data on rising edge)
- **Mode 3**: CPOL = 1, CPHA = 1 (Data on falling edge)

### SPI Configurations

#### Independent Slave Configuration

Each slave has a dedicated CS line from the master, allowing individual selection. 

#### Daisy Chain Configuration

Slaves are connected in series, with MOSI and MISO lines forming a chain. Data is shifted through the chain of slaves.

### Applications of SPI

- **Memory**: SD Card, MMC, EEPROM, Flash
- **Sensors**: Temperature and Pressure
- **Control Devices**: ADC, DAC, digital POTS, and Audio Codec
- **Others**: Camera Lens Mount, touchscreen, LCD, RTC, video game controller

### Advantages and Disadvantages

#### Advantages

- Simple implementation with minimal hardware requirements
- Full-duplex communication
- High-speed data transfer
- No need for individual addresses for slaves

#### Disadvantages

- Additional slave requires an extra CS pin on the master
- No acknowledgement mechanism
- Slowest device determines the speed of transfer
- Lack of official standards
- No flow control
